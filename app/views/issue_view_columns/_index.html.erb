<%= stylesheet_link_tag 'issue_view_columns', plugin: "redmine_issue_view_columns", media: 'all'%>
<%= javascript_include_tag(:'issue_view_default_columns', plugin: "redmine_issue_view_columns") %>

<%= form_tag(update_issue_view_columns_path(nil), method: :post) do %>
  <%= hidden_field_tag 'project_id', @project.id %>
  <fieldset class="box">
    <legend> <%= l(:label_select_columns) %> </legend>
    <%= render_query_columns_selection(build_query_for_project) %>
  </fieldset>

  <div class="field">
    <%= label_tag 'relations_limit', l(:label_issue_view_columns_relations_limit) %>
    <%= number_field_tag 'relations_limit', project_relations_display_limit(@project), min: 0, class: 'relations-limit-input' %>
    <em class="info"><%= l(:label_issue_view_columns_relations_limit_hint) %></em>
  </div>

  <%= submit_tag t(:button_save) -%>
  <%= submit_tag t(:button_cancel) -%>
<% end %>
